Panoramica completa sull'evoluzione dei data center moderni: architettura fisica, rete, SDN, gestione delle risorse tramite Cloud OS.
Inoltre vengono approfonditi strumenti, problematiche e tecnologie emergenti.


---

# Rack, Cluster e Data Center
Con l'aumentare delle richieste di calcolo quotidiane la singola macchina risulta essere insufficiente.

***Rack***
**Insieme fisico di server fisici, simili tra loro, interconnessi** sulla rete tramite un *ToR - Top of the Rack switch*.

***Cluster***
**Insieme logico di server fisici** (può essere composto da uno o più rack) che lavorano assieme con l'obiettivo di migliorare le prestazioni e l'affidabilità di un processo di calcolo.

***Data Center***
Un edificio dedicato che **raggruppa svariati cluster tra di loro**, dotato delle tecnologie necessarie per gestire ogni bisogno dell'infrastruttura.

Per gestire le enormi richieste di calcolo, tali data center possono essere interconnessi tra loro tramite rete.

## Energia e raffreddamento
I data centers sono caratterizzati da un **elevato consumo energetico** (ogni rack può consumare >4.5 kW).

La maggior parte dell’energia diventa calore, di conseguenza **il raffreddamento è fondamentale**.

---

# Topologie di rete nei Data Center

Layer 2 (Data Link Layer):
- Utilizza **Ethernet switching**.
- Un **albero di spanning** viene costruito per prevenire i loop → blocca percorsi alternativi.    
- **Problema**: non sfrutta al meglio tutte le risorse di rete disponibili.
Layer 3 (Network Layer):
- Usa **routing IP** con instradamento a cammino minimo.
- Non garantisce delivery, è **best-effort**.
- Sfrutta tutti i link disponibili, ma ha **latenze e costi di configurazione più alti**.

## Architettura tradizionale
Una tipica architettura di data center è **gerarchica**:
1. Core Router - livello 3 di rete
2. Aggregation Layer - livello 2 di rete
3. Access Layer - livello dei racks

Pro:
- Compatibilità con applicazioni esistenti (Ethernet-based).
- Infrastruttura semplice ed economica.
- Basso consumo energetico.

Contro:
- **Single point of failure** in alto nella gerarchia.
- **Over-subscription**: i link superiori sono spesso condivisi tra molti server → colli di bottiglia.
- Non ottimale per il traffico est-ovest (server-server).

## Architettura Fat-Tree
Risulta essere un’architettura **scalabile** e **bilanciata** per supportare grandi quantità di traffico server-to-server, usando **dispositivi economici**.

Struttura:
- Basata su **k-port switches**.
- Ogni switch ha k porte e l’architettura può supportare fino a **(k³/4) host**.

Vantaggi:
- Ogni switch può trasmettere a velocità di linea (line rate).
- Architettura altamente **scalabile e fault-tolerant**.
- Adatta a grandi data center.

### ECMP (Equal-Cost Multi-Path Routing)
Per sfruttare i molteplici percorsi nel Fat-tree, si usa **ECMP**:
- I flussi vengono bilanciati usando un **hash** delle intestazioni dei pacchetti (indirizzo sorgente/destinazione).
- Ogni flusso è mappato su un **singolo cammino** → preserva l’ordine dei pacchetti.

Limiti:
- Non tutti i flussi sono uguali:
    - **Mice flows** (brevi, piccoli)
    - **Elephant flows** (lunghi, pesanti).
- ECMP può causare **squilibri** se troppi elephant flows sono hashati sullo stesso percorso.
- Mancanza di supporto nativo a **VLAN**.
- Difficoltà di espandere dinamicamente l’architettura (aggiunta rack difficile).

## Architettura ibride
Non tutto il traffico è distribuito uniformemente: la maggior parte del traffico è **intra-rack**; solo pochi flussi sono **lunghi e inter-rack**.

Di conseguenza si potrebbe dividere la rete in base alla tecnologia di trasferimento fisico:
- Rete **elettrica a pacchetti** per traffico generico e reattivo.
- Rete **ottica a circuiti** per flussi lunghi → percorso dedicato e ad alta capacità.

Un **controller centralizzato** stima la domanda di traffico e configura dinamicamente i circuiti ottici (es. con algoritmo di _maximum weighted matching_).
I pacchetti sono raggruppati per flusso (batching) per migliorare l’efficienza dell’ottico.


---

# Software Defined Networking (SDN)
...